<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="0" tests="24" time="3.027" timestamp="2026-01-19T22:19:03.462478+00:00" hostname="agent-env-d5a8baa2-7693-4be3-b4e2-6ed99a19b9a5"><testcase classname="tests.test_ledger_hardening.TestHealthEndpoint" name="test_health_endpoint_returns_200" time="0.071" /><testcase classname="tests.test_ledger_hardening.TestHealthEndpoint" name="test_health_endpoint_has_status" time="0.038" /><testcase classname="tests.test_ledger_hardening.TestHealthEndpoint" name="test_health_endpoint_has_mongodb_component" time="0.036" /><testcase classname="tests.test_ledger_hardening.TestHealthEndpoint" name="test_health_endpoint_has_feature_flags" time="0.037" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_roles_without_auth_returns_401" time="0.082" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_users_without_auth_returns_401" time="0.036" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_wallets_without_auth_returns_401" time="0.035" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_ledger_without_auth_returns_401" time="0.043" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_audit_logs_without_auth_returns_401" time="0.035" /><testcase classname="tests.test_ledger_hardening.TestAdminEndpointsAuth" name="test_admin_with_non_admin_user_returns_403" time="0.036" /><testcase classname="tests.test_ledger_hardening.TestAmountValidation" name="test_zero_amount_rejected" time="0.180" /><testcase classname="tests.test_ledger_hardening.TestAmountValidation" name="test_negative_amount_rejected" time="0.195" /><testcase classname="tests.test_ledger_hardening.TestAmountValidation" name="test_amount_over_5000_rejected" time="0.188" /><testcase classname="tests.test_ledger_hardening.TestAmountValidation" name="test_valid_amount_accepted" time="0.158" /><testcase classname="tests.test_ledger_hardening.TestSelfTransferPrevention" name="test_self_transfer_returns_400" time="0.112" /><testcase classname="tests.test_ledger_hardening.TestIdempotencyReplay" name="test_idempotency_replay_returns_same_tx_id" time="0.236" /><testcase classname="tests.test_ledger_hardening.TestIdempotencyCollision" name="test_idempotency_collision_different_amount_returns_409" time="0.383" /><testcase classname="tests.test_ledger_hardening.TestIdempotencyCollision" name="test_idempotency_collision_different_recipient_returns_409" time="0.275" /><testcase classname="tests.test_ledger_hardening.TestConcurrentDoubleSpend" name="test_concurrent_double_spend_only_one_succeeds" time="0.264"><failure message="AssertionError: Expected exactly 1 success, got 0&#10;assert 0 == 1">tests/test_ledger_hardening.py:462: in test_concurrent_double_spend_only_one_succeeds
    assert success_count == 1, f"Expected exactly 1 success, got {success_count}"
E   AssertionError: Expected exactly 1 success, got 0
E   assert 0 == 1</failure></testcase><testcase classname="tests.test_ledger_hardening.TestLedgerIntegrity" name="test_transfer_creates_ledger_tx_header" time="0.164"><failure message="AssertionError: Transfer failed: {&quot;detail&quot;:&quot;Transfer failed due to system error&quot;}&#10;assert 520 == 200&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_ledger_hardening.py:504: in test_transfer_creates_ledger_tx_header
    assert response.status_code == 200, f"Transfer failed: {response.text}"
E   AssertionError: Transfer failed: {"detail":"Transfer failed due to system error"}
E   assert 520 == 200
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_ledger_hardening.TestLedgerIntegrity" name="test_transfer_response_has_required_fields" time="0.153"><failure message="AssertionError: Transfer failed: {&quot;detail&quot;:&quot;Transfer failed due to system error&quot;}&#10;assert 520 == 200&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_ledger_hardening.py:551: in test_transfer_response_has_required_fields
    assert response.status_code == 200, f"Transfer failed: {response.text}"
E   AssertionError: Transfer failed: {"detail":"Transfer failed due to system error"}
E   assert 520 == 200
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_ledger_hardening.TestWalletFunding" name="test_fund_wallet_success" time="0.038" /><testcase classname="tests.test_ledger_hardening.TestWalletFunding" name="test_fund_wallet_without_session_returns_401" time="0.036" /><testcase classname="tests.test_ledger_hardening.TestFriendshipRequired" name="test_transfer_without_friendship_returns_403" time="0.070" /></testsuite></testsuites>